(function(e,t,n,r){var i="mPageScroll2id",s="mPS2id",o=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id']",u={scrollSpeed:1300,autoScrollSpeed:true,scrollEasing:"easeInOutExpo",scrollingEasing:"easeInOutCirc",pageEndSmoothScroll:true,layout:"vertical",offset:0,highlightSelector:false,clickedClass:s+"-clicked",targetClass:s+"-target",highlightClass:s+"-highlight",forceSingleHighlight:false,keepHighlightUntilNext:false,disablePluginBelow:false,clickEvents:true,onStart:function(){},onComplete:function(){},defaultSelector:false},a,f,l,c,h,p,d,v,m,g,y={init:function(r){var r=e.extend(true,{},u,r);e(n).data(s,r);f=e(n).data(s);a=!a?this.selector:a+","+this.selector;if(f.defaultSelector){if(typeof e(a)!=="object"||e(a).length===0){a=o}}if(f.clickEvents){e(n).undelegate("."+s).delegate(a,"click."+s,function(t){if(b._isDisabled.call(null)){b._removeClasses.call(null);return}var n=e(this),r=n.attr("href"),i=n.prop("href");if(r&&r.indexOf("#/")!==-1){return}b._reset.call(null);g=n.data("ps2id-offset")||0;if(b._isValid.call(null,r,i)&&b._findTarget.call(null,r)){t.preventDefault();c="selector";h=n;b._setClasses.call(null,true);b._scrollTo.call(null)}})}e(t).unbind("."+s).bind("scroll."+s+" resize."+s,function(){if(b._isDisabled.call(null)){b._removeClasses.call(null);return}var t=e("._"+s+"-t");t.each(function(n){var r=e(this),i=r.attr("id"),s=b._findHighlight.call(null,i);b._setClasses.call(null,false,r,s);if(n==t.length-1){b._extendClasses.call(null)}})});l=true;b._setup.call(null)},scrollTo:function(t,n){if(b._isDisabled.call(null)){b._removeClasses.call(null);return}if(t&&typeof t!=="undefined"){b._isInit.call(null);var r={layout:f.layout,offset:f.offset,clicked:false},n=e.extend(true,{},r,n);b._reset.call(null);v=n.layout;m=n.offset;t=t.indexOf("#")!==-1?t:"#"+t;if(b._isValid.call(null,t)&&b._findTarget.call(null,t)){c="scrollTo";h=n.clicked;if(h){b._setClasses.call(null,true)}b._scrollTo.call(null)}}},destroy:function(){e(t).unbind("."+s);e(n).undelegate("."+s).removeData(s);e("._"+s+"-t").removeData(s);b._removeClasses.call(null,true)}},b={_isDisabled:function(){var e=t,r="inner",i=f.disablePluginBelow instanceof Array?[f.disablePluginBelow[0]||0,f.disablePluginBelow[1]||0]:[f.disablePluginBelow||0,0];if(!("innerWidth"in t)){r="client";e=n.documentElement||n.body}return e[r+"Width"]<=i[0]||e[r+"Height"]<=i[1]},_isValid:function(e,n){if(!e){return}n=!n?e:n;var r=n.indexOf("#/")!==-1?n.split("#/")[0]:n.split("#")[0],i=t.location.toString().split("#")[0];return e!=="#"&&e.indexOf("#")!==-1&&(r===""||r===i)},_setup:function(){var t=f.highlightSelector&&f.highlightSelector!==""?f.highlightSelector:a,n=1;return e(t).each(function(){var r=e(this),i=r.attr("href"),o=r.prop("href");if(b._isValid.call(null,i,o)){var u=i.indexOf("#/")!==-1?i.split("#/")[1]:i.split("#")[1],a=e("#"+u);if(a.length>0){if(!a.hasClass("_"+s+"-t")){a.addClass("_"+s+"-t").data(s,{i:n})}if(!r.hasClass("_"+s+"-h")){r.addClass("_"+s+"-h")}var f=b._findHighlight.call(null,u);b._setClasses.call(null,false,a,f);n++;if(n==e(t).length){b._extendClasses.call(null)}}}})},_findTarget:function(t){var n=t.indexOf("#/")!==-1?t.split("#/")[1]:t.split("#")[1],r=e("#"+n);if(r.length<1||r.css("position")==="fixed"){if(n==="top"){r=e("body")}else{return}}p=r;if(!v){v=f.layout}m=b._setOffset.call(null);d=[(r.offset().top-m[0]).toString(),(r.offset().left-m[1]).toString()];d[0]=d[0]<0?0:d[0];d[1]=d[1]<0?0:d[1];return d},_setOffset:function(){if(!m){m=f.offset?f.offset:0}if(g){m=g}var t,n,r,i;switch(typeof m){case"object":case"string":t=[m["y"]?m["y"]:m,m["x"]?m["x"]:m];n=[t[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])];if(n[0].length>0){r=n[0].height();if(n[0].css("position")==="fixed"){r+=n[0][0].offsetTop}}else if(!isNaN(parseFloat(t[0]))&&isFinite(t[0])){r=parseInt(t[0])}else{r=0}if(n[1].length>0){i=n[1].width();if(n[1].css("position")==="fixed"){i+=n[1][0].offsetLeft}}else if(!isNaN(parseFloat(t[1]))&&isFinite(t[1])){i=parseInt(t[1])}else{i=0}break;case"function":t=m.call(null);if(t instanceof Array){r=t[0];i=t[1]}else{r=i=t}break;default:r=i=parseInt(m)}return[r,i]},_findHighlight:function(n){var r=t.location.toString().split("#")[0],i=e("._"+s+"-h[href='#"+n+"']"),o=e("._"+s+"-h[href='"+r+"#"+n+"']"),u=e("._"+s+"-h[href='#/"+n+"']"),a=e("._"+s+"-h[href='"+r+"#/"+n+"']");i=i.length>0?i:o;u=u.length>0?u:a;return u.length>0?u:i},_setClasses:function(t,n,r){var i=f.clickedClass,s=f.targetClass,o=f.highlightClass;if(t&&i&&i!==""){e("."+i).removeClass(i);h.addClass(i)}else if(n&&s&&s!==""&&r&&o&&o!==""){if(b._currentTarget.call(null,n)){n.addClass(s);r.addClass(o)}else{if(!f.keepHighlightUntilNext||e("."+o).length>1){n.removeClass(s);r.removeClass(o)}}}},_extendClasses:function(){var t=f.targetClass,n=f.highlightClass,r=e("."+t),i=e("."+n),o=t+"-first",u=t+"-last",a=n+"-first",l=n+"-last";e("._"+s+"-t").removeClass(o+" "+u);e("._"+s+"-h").removeClass(a+" "+l);if(!f.forceSingleHighlight){r.slice(0,1).addClass(o).end().slice(-1).addClass(u);i.slice(0,1).addClass(a).end().slice(-1).addClass(l)}else{if(f.keepHighlightUntilNext&&r.length>1){r.slice(0,1).removeClass(t);i.slice(0,1).removeClass(n)}else{r.slice(1).removeClass(t);i.slice(1).removeClass(n)}}},_removeClasses:function(t){e("."+f.clickedClass).removeClass(f.clickedClass);e("."+f.targetClass).removeClass(f.targetClass+" "+f.targetClass+"-first "+f.targetClass+"-last");e("."+f.highlightClass).removeClass(f.highlightClass+" "+f.highlightClass+"-first "+f.highlightClass+"-last");if(t){e("._"+s+"-t").removeClass("_"+s+"-t");e("._"+s+"-h").removeClass("_"+s+"-h")}},_currentTarget:function(n){var r=f["target_"+n.data(s).i],i=n[0].getBoundingClientRect();if(typeof r!=="undefined"){var o=n.offset().top,u=n.offset().left,a=r.from?r.from+o:o,l=r.to?r.to+o:o,c=r.fromX?r.fromX+u:u,h=r.toX?r.toX+u:u;return i.top>=l&&i.top<=a&&i.left>=h&&i.left<=c}else{var p=e(t).height(),d=e(t).width(),v=n.height(),m=n.width(),g=1+v/p,y=g,b=v<p?g*(p/v):g,w=1+m/d,E=w,S=m<d?w*(d/m):w;return i.top<=p/y&&i.bottom>=p/b&&i.left<=d/E&&i.right>=d/S}},_scrollTo:function(){f.scrollSpeed=parseInt(f.scrollSpeed);d=f.pageEndSmoothScroll?b._pageEndSmoothScroll.call(null):d;var n=e("html,body"),r=f.autoScrollSpeed?b._autoScrollSpeed.call(null):f.scrollSpeed,i=n.is(":animated")?f.scrollingEasing:f.scrollEasing,s=e(t).scrollTop(),o=e(t).scrollLeft();switch(v){case"horizontal":if(o!=d[1]){b._callbacks.call(null,"onStart");n.stop().animate({scrollLeft:d[1]},r,i).promise().then(function(){b._callbacks.call(null,"onComplete")})}break;case"auto":if(s!=d[0]||o!=d[1]){b._callbacks.call(null,"onStart");if(navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var u;n.stop().animate({pageYOffset:d[0],pageXOffset:d[1]},{duration:r,easing:i,step:function(e,n){if(n.prop=="pageXOffset"){u=e}else if(n.prop=="pageYOffset"){t.scrollTo(u,e)}}}).promise().then(function(){b._callbacks.call(null,"onComplete")})}else{n.stop().animate({scrollTop:d[0],scrollLeft:d[1]},r,i).promise().then(function(){b._callbacks.call(null,"onComplete")})}}break;default:if(s!=d[0]){b._callbacks.call(null,"onStart");n.stop().animate({scrollTop:d[0]},r,i).promise().then(function(){b._callbacks.call(null,"onComplete")})}}},_pageEndSmoothScroll:function(){var r=e(n).height(),i=e(n).width(),s=e(t).height(),o=e(t).width();return[r-d[0]<s?r-s:d[0],i-d[1]<o?i-o:d[1]]},_autoScrollSpeed:function(){var r=e(t).scrollTop(),i=e(t).scrollLeft(),s=e(n).height(),o=e(n).width(),u=[f.scrollSpeed+f.scrollSpeed*Math.floor(Math.abs(d[0]-r)/s*100)/100,f.scrollSpeed+f.scrollSpeed*Math.floor(Math.abs(d[1]-i)/o*100)/100];return Math.max.apply(Math,u)},_callbacks:function(e){if(!f){return}this[s]={trigger:c,clicked:h,target:p,scrollTo:{y:d[0],x:d[1]}};switch(e){case"onStart":f.onStart.call(null,this[s]);break;case"onComplete":f.onComplete.call(null,this[s]);break}},_reset:function(){v=m=g=false},_isInit:function(){if(!l){y.init.apply(this)}},_easing:function(){e.easing.easeInQuad=e.easing.easeInQuad||function(e,t,n,r,i){return r*(t/=i)*t+n};e.easing.easeOutQuad=e.easing.easeOutQuad||function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n};e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n};e.easing.easeInCubic=e.easing.easeInCubic||function(e,t,n,r,i){return r*(t/=i)*t*t+n};e.easing.easeOutCubic=e.easing.easeOutCubic||function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n};e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n};e.easing.easeInQuart=e.easing.easeInQuart||function(e,t,n,r,i){return r*(t/=i)*t*t*t+n};e.easing.easeOutQuart=e.easing.easeOutQuart||function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n};e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n};e.easing.easeInQuint=e.easing.easeInQuint||function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n};e.easing.easeOutQuint=e.easing.easeOutQuint||function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n};e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n};e.easing.easeInExpo=e.easing.easeInExpo||function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n};e.easing.easeOutExpo=e.easing.easeOutExpo||function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n};e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n};e.easing.easeInSine=e.easing.easeInSine||function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n};e.easing.easeOutSine=e.easing.easeOutSine||function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n};e.easing.easeInOutSine=e.easing.easeInOutSine||function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n};e.easing.easeInCirc=e.easing.easeInCirc||function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n};e.easing.easeOutCirc=e.easing.easeOutCirc||function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n};e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n};e.easing.easeInElastic=e.easing.easeInElastic||function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n};e.easing.easeOutElastic=e.easing.easeOutElastic||function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i)==1)return n+r;if(!o)o=i*.3;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n};e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e,t,n,r,i){var s=1.70158;var o=0;var u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;if(!o)o=i*.3*1.5;if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);if(t<1)return-.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n;return u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n};e.easing.easeInBack=e.easing.easeInBack||function(e,t,n,i,s,o){if(o==r)o=1.70158;return i*(t/=s)*t*((o+1)*t-o)+n};e.easing.easeOutBack=e.easing.easeOutBack||function(e,t,n,i,s,o){if(o==r)o=1.70158;return i*((t=t/s-1)*t*((o+1)*t+o)+1)+n};e.easing.easeInOutBack=e.easing.easeInOutBack||function(e,t,n,i,s,o){if(o==r)o=1.70158;if((t/=s/2)<1)return i/2*t*t*(((o*=1.525)+1)*t-o)+n;return i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+n};e.easing.easeInBounce=e.easing.easeInBounce||function(t,n,r,i,s){return i-e.easing.easeOutBounce(t,s-n,0,i,s)+r};e.easing.easeOutBounce=e.easing.easeOutBounce||function(e,t,n,r,i){if((t/=i)<1/2.75){return r*7.5625*t*t+n}else if(t<2/2.75){return r*(7.5625*(t-=1.5/2.75)*t+.75)+n}else if(t<2.5/2.75){return r*(7.5625*(t-=2.25/2.75)*t+.9375)+n}else{return r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}};e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(t,n,r,i,s){if(n<s/2)return e.easing.easeInBounce(t,n*2,0,i,s)*.5+r;return e.easing.easeOutBounce(t,n*2-s,0,i,s)*.5+i*.5+r}}};b._easing.call();e.fn[i]=function(t){if(y[t]){return y[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return y.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};e[i]=function(t){if(y[t]){return y[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return y.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist")}};e[i].defaults=u})(jQuery,window,document)